{% extends "base.html" %}
<!-- load humanize --> 
{% load humanize %} 
{% block content %}
{% load static %}
{% include "partials/_alert.html" %}
    
<style>
        .carousel-container {
            max-width: 700px;
            margin: 20px auto;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 15px rgba(171, 123, 227, 0.1);
        }
        <div class="bg-transparent text-danger">background transparent color</div>
        .carousel-item img {
            height: 400px;
            object-fit: cover;
        }
        {% comment %} .carousel-caption {
            background-color: rgba(153, 242, 133, 0.5);
            border-radius: 5px;
            padding: 10px 20px;
        }
        .carousel-indicators {
            margin-bottom: 20px;
        }
        .info-section {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 10px;
        } {% endcomment %}
</style>

<div class="container-fluid py-6 m-2 p-2">
        <h1 class="text-center font-weight-bold text-success">CRANemon Products</h1>

        <div class="row">
            <!-- Left Column - Carousel -->
            <div class="col-lg-8 col-md-7 mb-4">
            <div class="carousel-container">
                <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                
                <!-- Carousel Indicators -->
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="5"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="6"></li>
                </ol>
                
                <!-- Carousel Items -->
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="{% static "img/photo3.jpeg" %}" class="d-block w-100" alt="Pen and notebook">
                        <div class="carousel-caption d-none d-md-block">
                            {% comment %} <h5>Writing Tools</h5>
                            <p>High-quality pens for all your writing needs.</p> {% endcomment %}
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="{% static "img/photo2.jpeg" %}" class="d-block w-100" alt="Office supplies">
                        <div class="carousel-caption d-none d-md-block">
                            {% comment %} <h5>Office Supplies</h5>
                            <p>Everything you need for a productive workspace.</p> {% endcomment %}
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="{% static "img/photo4.jpeg" %}" class="d-block w-100" alt="Office supplies">
                        <div class="carousel-caption d-none d-md-block">
                            {% comment %} <h5>Office Supplies</h5>
                            <p>Everything you need for a productive workspace.</p> {% endcomment %}
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="{% static "img/photo5.jpeg" %}" class="d-block w-100" alt="Office supplies">
                        <div class="carousel-caption d-none d-md-block">
                            {% comment %} <h5>Office Supplies</h5>
                            <p>Everything you need for a productive workspace.</p> {% endcomment %}
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="{% static "img/photo6.jpeg" %}" class="d-block w-100" alt="Office supplies">
                        <div class="carousel-caption d-none d-md-block">
                            {% comment %} <h5>Office Supplies</h5>
                            <p>Everything you need for a productive workspace.</p> {% endcomment %}
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="{% static "img/photo8.jpeg" %}" class="d-block w-100" alt="Office supplies">
                        <div class="carousel-caption d-none d-md-block">
                            {% comment %} <h5>Office Supplies</h5>
                            <p>Everything you need for a productive workspace.</p> {% endcomment %}
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="{% static "img/photo7.jpeg" %}"  class="d-block w-100" alt="Desk setup">
                        <div class="carousel-caption d-none d-md-block">
                            {% comment %} <h5>Desk Organization</h5>
                            <p>Keep your workspace tidy and efficient.</p> {% endcomment %}
                        </div>
                    </div>
                </div> 
                
<!-- Carousel Items -->
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src={% static 'photo2.jpeg' %} class="d-block w-100" alt="" >
                                <div class="carousel-caption d-none d-md-block">
                                <h5>Writing Tools</h5>
                                    <p>High-quality pens for all your writing needs.</p>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <img src={% static 'photo3.jpeg' %} class="d-block w-100" alt="Office supplies">
                                <div class="carousel-caption d-none d-md-block">
                                    <h5>Office Supplies</h5>
                                    <p>Everything you need for a productive workspace.</p>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <img src={% static 'photo8.jpeg' %}class="d-block w-100" alt="Office supplies">
                                <div class="carousel-caption d-none d-md-block">
                                    <h5>Desk Organization</h5>
                                    <p>Keep your workspace tidy and efficient.</p>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <img src={% static 'photo4.jpeg' %} class="d-block w-100" alt="Office supplies">
                                <div class="carousel-caption d-none d-md-block">
                                    <h5>Creative Tools</h5>
                                    <p>Unleash your creativity with our premium tools.</p>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <img src={% static 'photo6.jpeg' %} class="d-block w-100" alt="Office supplies">
                                <div class="carousel-caption d-none d-md-block">
                                    <h5>Tech Accessories</h5>
                                    <p>Enhance your digital experience.</p>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <img src={% static 'photo7.jpeg' %}class="d-block w-100" alt="Office supplies">
                                <div class="carousel-caption d-none d-md-block">
                                    <h5>Eco-Friendly Options</h5>
                                    <p>Sustainable products for a better tomorrow.</p>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <img src={% static 'photo5.jpeg' %} class="d-block w-100" alt="Desk setup">
                                <div class="carousel-caption d-none d-md-block">
                                    <h5>Premium Collection</h5>
                                    <p>Luxury items for the discerning customer.</p>
                                </div>
                            </div>
                        </div> 
                        
                        <!-- Carousel Controls -->
                        {% comment %} <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a> {% endcomment %}
                    </div>
                </div>
            </div>

<!-- Right Column - Search and Products -->
            <div class="col-lg-4 col-md-5 m-0 p-0">
                <!-- Search Section -->
<!-- Showcase -->
    <div class="container text-center <small class="text-muted"></small>">
    <div class="home-search p-4">
        <div class="overlay p-4">
        <h1 class="text-screen">Search</h1>
        <p class="lead">

        </p>
        <div class="search">
            {% comment %} search.html {% endcomment %}
            <form action='{% url "products:search" %}'>
            <!-- Form Row 1 -->
            <div class="form-row">
                <div class="col-md-12 mb-3">
                <label class="sr-only">Keywords</label>
                <input
                    type="text"
                    name="keywords"
                    class="form-control"
                    placeholder="Keyword (Name, Brand, Description, etc)"
                />
                </div>
            </div>
            <!-- Form Row 2 -->
            <div class="form-row">
                <div class="col-md-4 mb-3">
                <label class="sr-only">Category</label>
                <select name="category" class="form-control">
                    <option {% if not values.category %} selected {% endif %} value=''> 
                        Category (All)
                    </option>
                    {% for category in categories %}
                    <option value="{{category.name}}" {% if category.name == values.category %} selected {% endif %}>{{ category.name }}</option>
                    {% endfor %}
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                <label class="sr-only">Brand</label>
                    <select name="brand" class="form-control">
                    <option {% if not values.brand %} selected {% endif %} value=''>Brand (All)
                    </option>
                    {% for key, value in brand_choices.items %}
                    <option value="{{key}}" {% if key == values.brand %} selected {% endif %} > {{value}}</option>
                    {% endfor %}
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                <label class="sr-only">Tag</label>
                    <select name="tag" class="form-control" id="type">
                    <option {% if not values.tag %} selected {% endif %} value=''>
                        Tag (All)
                    </option>
                    {% for key,value in tag_choices.items %}
                    <option value="{{key}}" {% if key == values.tag %} selected {% endif %} >{{value}}</option>
                    {% endfor %}  
                    </select>
                </div>
            </div>
            <button class="btn btn-warning col-md-12 mt-2" type="submit">
                Submit form
            </button>
            </form>
        </div>
        </div>
    </div>
    </div>
</section>

<!-- Products -->
<section id="Products" class="py-4" style="background-color: rgba(245, 229, 198, 0.3)">
    <div class="container">
    <h3 class="text-left mb-3" style="color: rgba(233, 112, 5, 1)">Our Products</h3>
    <div class="row">
    <!-- Product 1 -->
    {% if products %} 
    {% for product in products %} 
    
    <div class="col-md-6 col-lg-4 mb-4">
    <div class="card listing-preview" style="background-color: rgba(245, 221, 176, 0.4)">
    {% if product.product_img and product.product_img.url %}
    <img class="card-img-top" src="{{ product.product_img.url }}" alt="{{ product.name }}" />
    {% else %}
    <img class="card-img-top" src="{% static 'img/default.jpg' %}" alt="Default image" />
    {% endif %}

    <div class="card-img-overlay">
    </div>
    <div class="card-body" style="background-color: rgba(245, 221, 176, 0.4)">
    <div class="row py-0 text-center">   
        <div class="col-12">
            <i class="fas fa-solid fa-clone" style="color: #0d2dceff;"> {{product.brand}}</i>
        </div>
        <br />
        <div class="col-12">
            <strong><h3 style="color: rgba(22, 26, 246, 1)">{{product.name}}</h3></strong>
        </div>
        <br />
        <div class="col-12">
            <h1 class="fas fa-solid fa-dollar-sign" style="color: #e96d0eff;"> {{product.price}}</h1>
        </div>
    </div>     

    <div class="row py-2 text-secondary">
        <div class="col-4 mt-2">
            <i class="fas fa-solid fa-receipt"style="color: #74C0FC;"></i> {{product.category | title}} 
        </div>
        <div class="col-4 mt-2">
            <i class="fas fa-solid fa-star" style="color: #74C0FC;"></i>{{product.tag}}
        </div>
        <div class="col-4 mt-0">
            {% if user.is_authenticated %}
            <a href="{% url 'products:add_to_wishlist' product.id %}" class="btn" style="background-color:#74C0FC;">
                <i class="fas fa-heart text-danger"> Like</i>
            </a>
            {% else %}
            <a href="#" class="btn" style="background-color:#74C0FC;">
                <i class="fas fa-heart text-danger"> Like</i>
            </a>
            {% endif %}
        </div>
        <div class="col-4 mt-0">
            {% if product.reviews.exists %}
            <strong>Rating: </strong> {{ product.get_rating }}/5.0
            {% endif %}
        </div>
    </div>

    <div class="col-12">
        <div class="row py-0 text-center text-justify"> 
            <h6> Description : {{product.description}} </h6>
            </text-justify>
        </div>    </div> 
        <br />

    <a href={% url "products:product" product.id %} class="btn btn-warning btn-block">
        More Info</a>
    </div>
    </div>
    </div>
    {% endfor %}
    {% else %}
    <div class="col-md-12">
        <p>No Product Available</p>
    </div>
    {% endif %}
    </div>
</section>
</div>

{% endblock %}